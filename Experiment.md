# Scaling # of kernels with fixed cores

## Benchmark 2: FFT -> Data motion

### (2 physical cores, 1 way of LLC, 10% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000    
`sudo rdtset -t 'mba=10;l3=0x01;cpu=0,2' -c 0,2  python3 kernel_dm_pair.py 2 1` 

Output:  
```
emu-kernel-0, exec:247.3621985912323, overhead:1.270350456237793
emu-kernel-1, exec:250.91286897659302, overhead:1.3088340759277344
dm-0, exec:252.56781935691833, overhead:0.7920560836791992
dm-1, exec:255.70704102516174, overhead:0.9631872177124023
total_req_latency:256.9787974357605
per_req_latency:0.12848939871788026
```  

Command: 16 emulated kernels, using iterations = 100 (2000 takes way too long)
`sudo rdtset -t 'mba=10;l3=0x01;cpu=0,2' -c 0,2  python3 kernel_dm_pair.py 16 1`  

Output:  
```
dm-0, exec:107.05716586112976, overhead:1.404510498046875
dm-1, exec:95.8406081199646, overhead:2.080946683883667
dm-2, exec:107.86825776100159, overhead:1.9502606391906738
dm-3, exec:107.08786869049072, overhead:2.523134708404541
dm-4, exec:95.52839851379395, overhead:2.3031675815582275
dm-5, exec:94.90773844718933, overhead:1.1233940124511719
dm-6, exec:93.92409753799438, overhead:1.4188406467437744
dm-7, exec:105.49315643310547, overhead:1.3948867321014404
dm-8, exec:93.05642652511597, overhead:1.9791474342346191
dm-9, exec:103.01248979568481, overhead:1.6069891452789307
dm-10, exec:92.24903178215027, overhead:1.4546608924865723
dm-11, exec:101.76079225540161, overhead:1.198901653289795
dm-12, exec:102.93484568595886, overhead:1.2988667488098145
dm-13, exec:102.10804462432861, overhead:1.7789275646209717
dm-14, exec:100.44714593887329, overhead:1.2508091926574707
dm-15, exec:89.32428407669067, overhead:1.3476765155792236

total_req_latency:110.00892353057861
per_req_latency:1.100089235305786
``` 

### (4 physical cores, 2 way of LLC, 20% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py mel_scale 2 1`  

Output:  
```
kernel:0.009874820709228516
emu-kernel-0, exec:125.99606585502625, overhead:0.5657546520233154
kernel:0.0098724365234375
emu-kernel-1, exec:126.05308699607849, overhead:0.5547075271606445
dm-0, data motion:0.04115724563598633
dm-0, exec:130.00543117523193, overhead:0.5070135593414307
dm-1, data motion:0.04120516777038574
dm-1, exec:130.04430222511292, overhead:0.527214765548706
total_req_latency:130.59559726715088
per_req_latency:0.06529779863357545
65.298
65.204
```  

Command: 16 emulated kernels, using iterations = 400 (2000 takes way too long)  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py mel_scale 16 1`

Output:  
```
kernel:0.009830474853515625
emu-kernel-1, exec:98.3561851978302, overhead:2.7501537799835205
kernel:0.009831666946411133
emu-kernel-2, exec:98.38484621047974, overhead:2.811847448348999
kernel:0.00983119010925293
emu-kernel-9, exec:97.01048135757446, overhead:2.2798068523406982
kernel:0.009829521179199219
emu-kernel-0, exec:105.8880729675293, overhead:2.3502185344696045
kernel:0.00983130931854248
emu-kernel-10, exec:103.89435863494873, overhead:2.2330563068389893
kernel:0.009830117225646973
emu-kernel-7, exec:104.67725133895874, overhead:2.4355452060699463
dm-1, data motion:0.16423892974853516
dm-1, exec:112.5601315498352, overhead:1.1143083572387695
dm-2, data motion:0.16340923309326172
dm-2, exec:112.23868298530579, overhead:1.150864839553833
dm-9, data motion:0.17205452919006348
dm-9, exec:111.23498463630676, overhead:0.7789795398712158
dm-0, data motion:0.17530226707458496
dm-0, exec:120.9503812789917, overhead:0.4951765537261963
dm-10, data motion:0.1674720048904419
dm-10, exec:118.50315928459167, overhead:0.8510403633117676
dm-7, data motion:0.16177141666412354
dm-7, exec:119.45508122444153, overhead:0.714921236038208
kernel:0.00983119010925293
emu-kernel-11, exec:121.59720826148987, overhead:1.6526103019714355
kernel:0.009832382202148438
emu-kernel-12, exec:121.5673258304596, overhead:1.6299548149108887
kernel:0.009831786155700684
emu-kernel-3, exec:125.37746453285217, overhead:2.751842737197876
kernel:0.00983285903930664
emu-kernel-15, exec:124.80621123313904, overhead:1.2763338088989258
kernel:0.009834647178649902
emu-kernel-13, exec:125.15915870666504, overhead:1.5308430194854736
kernel:0.009833097457885742
emu-kernel-14, exec:128.75895881652832, overhead:1.4227368831634521
dm-11, data motion:0.221221923828125
dm-11, exec:131.229905128479, overhead:0.6953938007354736
dm-12, data motion:0.22222638130187988
dm-12, exec:130.78521275520325, overhead:0.6586925983428955
kernel:0.009833693504333496
emu-kernel-5, exec:130.93226146697998, overhead:2.635573148727417
kernel:0.009831428527832031
emu-kernel-4, exec:132.977689743042, overhead:2.928804397583008
kernel:0.009831070899963379
emu-kernel-8, exec:132.27245616912842, overhead:2.387612819671631
kernel:0.009831666946411133
emu-kernel-6, exec:132.32783603668213, overhead:3.011657476425171
dm-3, data motion:0.20928502082824707
dm-3, exec:137.14342880249023, overhead:1.2390120029449463
dm-15, data motion:0.23285460472106934
dm-15, exec:134.64440393447876, overhead:0.8632030487060547
dm-13, data motion:0.2332911491394043
dm-13, exec:135.65355348587036, overhead:1.192272424697876
dm-14, data motion:0.22236621379852295
dm-14, exec:135.93699049949646, overhead:1.1230347156524658
dm-5, data motion:0.24560177326202393
dm-5, exec:139.38086080551147, overhead:0.8355879783630371
dm-8, data motion:0.2532278299331665
dm-8, exec:139.49538278579712, overhead:0.7587668895721436
dm-6, data motion:0.2553443908691406
dm-6, exec:139.73109912872314, overhead:1.2224419116973877
dm-4, data motion:0.23345434665679932
dm-4, exec:140.45819354057312, overhead:1.3232851028442383
total_req_latency:142.2329547405243
per_req_latency:0.3555823868513107
355.582
365.264
```

### (8 physical cores, 4 way of LLC, 40% of memory bandwidth)
Command: 16 emulated kernels, using iterations = 4000 
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py mel_scale 2 1`  

Output:  
```
kernel:0.00986623764038086
emu-kernel-0, exec:123.50796866416931, overhead:0.31995558738708496
kernel:0.009866952896118164
emu-kernel-1, exec:123.54321312904358, overhead:0.3118598461151123
dm-0, data motion:0.019870281219482422
dm-0, exec:125.39364099502563, overhead:0.23972320556640625
dm-1, data motion:0.019828081130981445
dm-1, exec:125.43639850616455, overhead:0.2233421802520752
total_req_latency:125.68424534797668
per_req_latency:0.03142106133699417
31.421
30.379
```

Command: 16 emulated kernels, using iterations = 400 (2000 takes way too long)  
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py mel_scale 16 1`

Output:  
```
kernel:0.00984501838684082
emu-kernel-9, exec:53.94790458679199, overhead:1.1745328903198242
kernel:0.009847760200500488
emu-kernel-12, exec:53.86656999588013, overhead:0.927253007888794
kernel:0.009846210479736328
emu-kernel-2, exec:54.95797061920166, overhead:1.6708638668060303
kernel:0.009844183921813965
emu-kernel-0, exec:55.10358023643494, overhead:1.8135101795196533
kernel:0.00984489917755127
emu-kernel-1, exec:56.2041380405426, overhead:1.8901233673095703
kernel:0.009846091270446777
emu-kernel-6, exec:56.465452432632446, overhead:1.8704566955566406
kernel:0.009847402572631836
emu-kernel-4, exec:56.45899748802185, overhead:2.1184167861938477
kernel:0.009845972061157227
emu-kernel-8, exec:56.69348955154419, overhead:1.4227683544158936
kernel:0.009843707084655762
emu-kernel-3, exec:56.97577691078186, overhead:2.09936261177063
kernel:0.00984811782836914
emu-kernel-5, exec:57.20180654525757, overhead:2.0225894451141357
kernel:0.009843826293945312
emu-kernel-11, exec:57.490010261535645, overhead:1.0960173606872559
kernel:0.009844303131103516
emu-kernel-14, exec:57.639978885650635, overhead:0.6724526882171631
kernel:0.009848594665527344
emu-kernel-13, exec:57.61346650123596, overhead:0.7392187118530273
kernel:0.00984799861907959
emu-kernel-15, exec:57.63669180870056, overhead:0.7510378360748291
kernel:0.009843587875366211
emu-kernel-10, exec:57.88207483291626, overhead:1.2188770771026611
kernel:0.009846329689025879
emu-kernel-7, exec:58.188254833221436, overhead:1.6480844020843506
dm-12, data motion:0.09318649768829346
dm-12, exec:62.12835121154785, overhead:0.6469883918762207
dm-9, data motion:0.09356689453125
dm-9, exec:62.827547550201416, overhead:0.4631385803222656
dm-2, data motion:0.0957413911819458
dm-2, exec:63.81596851348877, overhead:0.5401527881622314
dm-0, data motion:0.09529078006744385
dm-0, exec:64.04398107528687, overhead:0.5565831661224365
dm-1, data motion:0.09371006488800049
dm-1, exec:64.42749309539795, overhead:0.5876975059509277
dm-8, data motion:0.09537017345428467
dm-8, exec:64.51785111427307, overhead:0.6347072124481201
dm-11, data motion:0.09467852115631104
dm-11, exec:64.4902720451355, overhead:0.49092793464660645
dm-3, data motion:0.09408986568450928
dm-3, exec:65.44673156738281, overhead:0.7645609378814697
dm-6, data motion:0.09281623363494873
dm-6, exec:65.22715926170349, overhead:0.7866029739379883
dm-4, data motion:0.09330582618713379
dm-4, exec:65.85781288146973, overhead:0.4408121109008789
dm-14, data motion:0.092948317527771
dm-14, exec:64.20879888534546, overhead:0.5592877864837646
dm-15, data motion:0.09241282939910889
dm-15, exec:64.15754270553589, overhead:0.5910286903381348
dm-5, data motion:0.09369504451751709
dm-5, exec:65.28927040100098, overhead:0.9798023700714111
dm-7, data motion:0.09650528430938721
dm-7, exec:65.38153386116028, overhead:0.6505725383758545
dm-13, data motion:0.09540164470672607
dm-13, exec:64.37619376182556, overhead:0.5749199390411377
dm-10, data motion:0.09789490699768066
dm-10, exec:64.95235395431519, overhead:0.587059736251831
total_req_latency:66.65212821960449
per_req_latency:0.16663032054901122
166.630
165.087
```

### (16 physical cores, 8 way of LLC, 80% of memory bandwidth)
Command: 16 emulated kernels, using iterations = 4000    
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30  python3 kernel_dm_pair.py mel_scale 2 1`  

Output:  
```
kernel:0.009870529174804688
emu-kernel-0, exec:105.52107214927673, overhead:0.1982278823852539
kernel:0.009869098663330078
emu-kernel-1, exec:105.71932482719421, overhead:0.19351887702941895
dm-0, data motion:0.015970945358276367
dm-0, exec:107.02904081344604, overhead:0.1643061637878418
dm-1, data motion:0.016407251358032227
dm-1, exec:107.23786878585815, overhead:0.1356678009033203
total_req_latency:107.39664769172668
per_req_latency:0.026849161922931672
26.849
25.633
```

Command: 16 emulated kernels, using iterations = 2000
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30 python3 kernel_dm_pair.py mel_scale 16 1`

Output:  
```
kernel:0.009887456893920898
emu-kernel-8, exec:311.0685393810272, overhead:0.8668680191040039
kernel:0.009888768196105957
emu-kernel-14, exec:311.2471821308136, overhead:0.42508816719055176
kernel:0.009885549545288086
emu-kernel-3, exec:311.88200187683105, overhead:1.117401123046875
kernel:0.009886503219604492
emu-kernel-4, exec:312.46191000938416, overhead:1.0856432914733887
kernel:0.009888887405395508
emu-kernel-7, exec:312.97995615005493, overhead:1.0744907855987549
kernel:0.009887337684631348
emu-kernel-5, exec:313.64348578453064, overhead:1.066044807434082
kernel:0.009888172149658203
emu-kernel-10, exec:313.92268419265747, overhead:0.7746434211730957
kernel:0.009887218475341797
emu-kernel-1, exec:315.147004365921, overhead:1.1465437412261963
kernel:0.00988626480102539
emu-kernel-11, exec:315.26171469688416, overhead:0.66265869140625
kernel:0.009887933731079102
emu-kernel-15, exec:315.3503816127777, overhead:0.34059834480285645
kernel:0.009888648986816406
emu-kernel-12, exec:316.1764919757843, overhead:0.5157432556152344
kernel:0.0098876953125
emu-kernel-0, exec:317.323543548584, overhead:1.1451787948608398
kernel:0.009888410568237305
emu-kernel-6, exec:317.3216164112091, overhead:1.1028141975402832
dm-8, data motion:0.08673882484436035
dm-8, exec:319.8298032283783, overhead:0.4544796943664551
dm-3, data motion:0.08608269691467285
dm-3, exec:320.5557839870453, overhead:0.4511888027191162
dm-14, data motion:0.08649849891662598
dm-14, exec:320.1448390483856, overhead:0.29523444175720215
kernel:0.009887456893920898
emu-kernel-13, exec:320.08058285713196, overhead:0.5071251392364502
dm-4, data motion:0.0861138105392456
dm-4, exec:321.54684233665466, overhead:0.43947744369506836
kernel:0.009887218475341797
emu-kernel-2, exec:321.0303919315338, overhead:1.1423730850219727
dm-7, data motion:0.08681583404541016
dm-7, exec:321.5855724811554, overhead:0.5504019260406494
dm-5, data motion:0.0914156436920166
dm-5, exec:322.08741998672485, overhead:0.44849300384521484
dm-10, data motion:0.08643472194671631
dm-10, exec:322.10115003585815, overhead:0.4909341335296631
dm-1, data motion:0.08837509155273438
dm-1, exec:323.0251889228821, overhead:0.4863395690917969
dm-11, data motion:0.08612608909606934
dm-11, exec:322.7892758846283, overhead:0.2431354522705078
kernel:0.009888172149658203
emu-kernel-9, exec:322.3972933292389, overhead:0.8293375968933105
dm-15, data motion:0.08742272853851318
dm-15, exec:322.46978402137756, overhead:0.25113534927368164
dm-12, data motion:0.09041297435760498
dm-12, exec:322.96404004096985, overhead:0.3030571937561035
dm-6, data motion:0.08767819404602051
dm-6, exec:323.52189683914185, overhead:0.48650670051574707
dm-0, data motion:0.08708429336547852
dm-0, exec:323.8103439807892, overhead:0.49054455757141113
dm-13, data motion:0.0911639928817749
dm-13, exec:323.8665430545807, overhead:0.2630331516265869
dm-2, data motion:0.08803117275238037
dm-2, exec:324.7086579799652, overhead:0.3547828197479248
dm-9, data motion:0.09157705307006836
dm-9, exec:324.5973024368286, overhead:0.5309665203094482
total_req_latency:325.49449610710144
per_req_latency:0.16274724805355073
162.747
161.577
```

## Benchmark 3: FFT -> Data motion
### (4 physical cores, 2 way of LLC, 20% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py reshape_casting 2 1`  

Output:  
```
kernel:0.012809038162231445
emu-kernel-0, exec:111.9540741443634, overhead:0.6242687702178955
kernel:0.012814044952392578
emu-kernel-1, exec:111.9736258983612, overhead:0.6196045875549316
dm-0, data motion:0.025615215301513672
dm-0, exec:114.4368965625763, overhead:0.4850785732269287
dm-1, data motion:0.02561497688293457
dm-1, exec:114.35887932777405, overhead:0.5726032257080078
total_req_latency:114.95652794837952
per_req_latency:0.05747826397418976
57.478
57.483
```

Command: 16 emulated kernels, using iterations = 200 (2000 takes way too long)  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py reshape_casting 16 1`

Output:  
```
kernel:0.012771129608154297
emu-kernel-9, exec:43.09719800949097, overhead:2.312433958053589
kernel:0.012769460678100586
emu-kernel-11, exec:43.705687046051025, overhead:1.9721248149871826
kernel:0.01277017593383789
emu-kernel-4, exec:44.23095107078552, overhead:3.8005356788635254
kernel:0.012773394584655762
emu-kernel-2, exec:50.824315309524536, overhead:3.7117180824279785
kernel:0.012769818305969238
emu-kernel-13, exec:50.333502531051636, overhead:1.6513068675994873
kernel:0.012771129608154297
emu-kernel-8, exec:50.5951452255249, overhead:2.624654769897461
kernel:0.015984058380126953
emu-kernel-3, exec:52.08553981781006, overhead:3.9684410095214844
dm-9, data motion:0.1018373966217041
dm-9, exec:54.48570942878723, overhead:0.6073813438415527
dm-11, data motion:0.12167346477508545
dm-11, exec:54.19932794570923, overhead:1.0626249313354492
dm-4, data motion:0.12320291996002197
dm-4, exec:56.308659076690674, overhead:1.031118631362915
dm-3, data motion:0.11760950088500977
dm-3, exec:57.85827016830444, overhead:1.0036628246307373
dm-2, data motion:0.11949777603149414
dm-2, exec:61.06289792060852, overhead:0.668121337890625
dm-13, data motion:0.12511932849884033
dm-13, exec:58.03488516807556, overhead:0.8669037818908691
dm-8, data motion:0.09767913818359375
dm-8, exec:59.448893308639526, overhead:1.0142455101013184
kernel:0.012774109840393066
emu-kernel-0, exec:60.34663414955139, overhead:4.011187553405762
kernel:0.012775421142578125
emu-kernel-12, exec:59.892778158187866, overhead:1.8387136459350586
kernel:0.012770771980285645
emu-kernel-5, exec:60.78252935409546, overhead:3.3079283237457275
kernel:0.014313220977783203
emu-kernel-6, exec:60.75027322769165, overhead:3.0199809074401855
kernel:0.012969017028808594
emu-kernel-14, exec:64.28590726852417, overhead:1.2862210273742676
dm-0, data motion:0.14453256130218506
dm-0, exec:68.39435267448425, overhead:0.6893091201782227
dm-12, data motion:0.13693392276763916
dm-12, exec:65.51655173301697, overhead:1.122774600982666
kernel:0.01472783088684082
emu-kernel-15, exec:64.50742506980896, overhead:1.0937209129333496
kernel:0.012772083282470703
emu-kernel-7, exec:65.54450345039368, overhead:2.9741251468658447
kernel:0.01590728759765625
emu-kernel-10, exec:65.50356864929199, overhead:2.3272593021392822
kernel:0.012774109840393066
emu-kernel-1, exec:65.8644118309021, overhead:4.175067901611328
dm-5, data motion:0.14960169792175293
dm-5, exec:68.6195969581604, overhead:1.3673896789550781
dm-6, data motion:0.15768218040466309
dm-6, exec:68.75555682182312, overhead:0.8077023029327393
dm-14, data motion:0.13072264194488525
dm-14, exec:68.21748304367065, overhead:0.8509311676025391
dm-15, data motion:0.10662996768951416
dm-15, exec:68.44557738304138, overhead:0.4549140930175781
dm-1, data motion:0.16333520412445068
dm-1, exec:71.46459150314331, overhead:1.2564666271209717
dm-10, data motion:0.1354207992553711
dm-10, exec:69.88410067558289, overhead:1.12241792678833
dm-7, data motion:0.12365174293518066
dm-7, exec:70.94068932533264, overhead:0.8583550453186035
total_req_latency:73.10444021224976
per_req_latency:0.3655222010612488
365.522
362.803
```

### (8 physical cores, 4 way of LLC, 40% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 4000 
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py reshape_casting 2 1`  

Output:  
```
kernel:0.012804508209228516
emu-kernel-1, exec:116.54052233695984, overhead:0.25640058517456055
kernel:0.012807130813598633
emu-kernel-0, exec:116.54159140586853, overhead:0.2604813575744629
dm-1, data motion:0.012966752052307129
dm-1, exec:116.6139063835144, overhead:0.21119070053100586
dm-0, data motion:0.012867450714111328
dm-0, exec:116.61561298370361, overhead:0.21523451805114746
total_req_latency:116.85321927070618
per_req_latency:0.029213304817676543
29.213
30.520
```

Command: 16 emulated kernels, using iterations = 400 (2000 takes way too long)  
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py reshape_casting 16 1`

Output:  
```
kernel:0.012781858444213867
emu-kernel-11, exec:50.514631032943726, overhead:1.2265312671661377
kernel:0.012786388397216797
emu-kernel-13, exec:51.10735249519348, overhead:1.0253620147705078
kernel:0.012780427932739258
emu-kernel-10, exec:53.11327838897705, overhead:1.2905542850494385
kernel:0.01278388500213623
emu-kernel-7, exec:53.19356560707092, overhead:1.8465521335601807
kernel:0.012782573699951172
emu-kernel-3, exec:54.85626816749573, overhead:2.2331786155700684
dm-11, data motion:0.05736732482910156
dm-11, exec:55.272083044052124, overhead:0.8308060169219971
kernel:0.012782096862792969
emu-kernel-12, exec:55.12222123146057, overhead:1.1352319717407227
dm-13, data motion:0.062482595443725586
dm-13, exec:55.76274347305298, overhead:0.44278693199157715
kernel:0.012782692909240723
emu-kernel-8, exec:56.33038854598999, overhead:1.4547677040100098
kernel:0.012781262397766113
emu-kernel-2, exec:56.4369854927063, overhead:2.2205536365509033
kernel:0.01278233528137207
emu-kernel-4, exec:56.496413707733154, overhead:2.1152100563049316
kernel:0.012783169746398926
emu-kernel-9, exec:56.339070558547974, overhead:1.5031375885009766
kernel:0.012783646583557129
emu-kernel-0, exec:56.68074417114258, overhead:2.1971757411956787
kernel:0.012783527374267578
emu-kernel-15, exec:57.011454343795776, overhead:0.626875638961792
kernel:0.012784004211425781
emu-kernel-5, exec:57.45477104187012, overhead:1.9070351123809814
dm-7, data motion:0.06489121913909912
dm-7, exec:58.853882789611816, overhead:0.49875974655151367
dm-10, data motion:0.061118125915527344
dm-10, exec:58.15036344528198, overhead:0.5430006980895996
kernel:0.012782812118530273
emu-kernel-1, exec:58.1574182510376, overhead:2.236548900604248
kernel:0.012781858444213867
emu-kernel-6, exec:58.567874908447266, overhead:1.8420934677124023
dm-12, data motion:0.07092106342315674
dm-12, exec:59.1321861743927, overhead:0.6471657752990723
kernel:0.012783408164978027
emu-kernel-14, exec:58.891560077667236, overhead:0.7346611022949219
dm-2, data motion:0.07184016704559326
dm-2, exec:60.89060139656067, overhead:0.486926794052124
dm-3, data motion:0.06505262851715088
dm-3, exec:60.7508270740509, overhead:0.6712825298309326
dm-9, data motion:0.07041370868682861
dm-9, exec:60.30328440666199, overhead:0.698998212814331
dm-8, data motion:0.05954110622406006
dm-8, exec:60.91573476791382, overhead:0.4906294345855713
dm-4, data motion:0.06392085552215576
dm-4, exec:61.710599422454834, overhead:0.49151039123535156
dm-15, data motion:0.06520998477935791
dm-15, exec:60.13175129890442, overhead:0.4151425361633301
dm-0, data motion:0.06480264663696289
dm-0, exec:61.79387283325195, overhead:0.5951399803161621
dm-1, data motion:0.07236909866333008
dm-1, exec:61.95663237571716, overhead:0.626624345779419
dm-5, data motion:0.07132256031036377
dm-5, exec:61.743202209472656, overhead:0.81154465675354
dm-6, data motion:0.07175862789154053
dm-6, exec:61.94426727294922, overhead:0.6106283664703369
dm-14, data motion:0.07011270523071289
dm-14, exec:60.679184675216675, overhead:0.6547479629516602
total_req_latency:62.89571809768677
per_req_latency:0.15723929524421693
157.239
161.238
```

### (16 physical cores, 8 way of LLC, 80% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 4000    
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30  python3 kernel_dm_pair.py reshape_casting 2 1`  

Output:  
```
kernel:0.012809038162231445
emu-kernel-0, exec:57.24622559547424, overhead:0.22996020317077637
kernel:0.012807607650756836
emu-kernel-1, exec:57.247586250305176, overhead:0.22540664672851562
dm-0, data motion:0.012427687644958496
dm-0, exec:57.31756234169006, overhead:0.18409490585327148
dm-1, data motion:0.012217402458190918
dm-1, exec:57.33427882194519, overhead:0.16336369514465332
total_req_latency:57.52454161643982
per_req_latency:0.02876227080821991
28.762
30.440
```

Command: 16 emulated kernels, using iterations = 2000
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30  python3 kernel_dm_pair.py reshape_casting 16 1`

Output:  
```
kernel:0.01282644271850586
emu-kernel-5, exec:286.3743009567261, overhead:1.0979526042938232
kernel:0.01282358169555664
emu-kernel-9, exec:287.311607837677, overhead:0.7867212295532227
kernel:0.012825965881347656
emu-kernel-8, exec:288.3828966617584, overhead:0.8983151912689209
kernel:0.012823820114135742
emu-kernel-11, exec:288.84194231033325, overhead:0.6520512104034424
kernel:0.012824773788452148
emu-kernel-10, exec:290.48739886283875, overhead:0.8229553699493408
kernel:0.012825727462768555
emu-kernel-13, exec:291.97089195251465, overhead:0.44275546073913574
kernel:0.012824535369873047
emu-kernel-14, exec:292.0042772293091, overhead:0.615062952041626
kernel:0.012826204299926758
emu-kernel-3, exec:292.3157787322998, overhead:1.1252799034118652
kernel:0.012826800346374512
emu-kernel-2, exec:292.50813245773315, overhead:1.1083526611328125
dm-5, data motion:0.051949143409729004
dm-5, exec:293.43967604637146, overhead:0.38840699195861816
dm-8, data motion:0.05133342742919922
dm-8, exec:293.3649311065674, overhead:0.38286733627319336
dm-9, data motion:0.05223977565765381
dm-9, exec:293.595694065094, overhead:0.3551154136657715
kernel:0.01282501220703125
emu-kernel-4, exec:293.81532406806946, overhead:1.0935840606689453
dm-11, data motion:0.051892995834350586
dm-11, exec:294.1407537460327, overhead:0.4390857219696045
kernel:0.012825489044189453
emu-kernel-15, exec:294.1755590438843, overhead:0.5587377548217773
dm-10, data motion:0.05156600475311279
dm-10, exec:295.18676471710205, overhead:0.48697876930236816
kernel:0.012825489044189453
emu-kernel-1, exec:295.18623447418213, overhead:1.0993144512176514
kernel:0.012825727462768555
emu-kernel-7, exec:295.62259006500244, overhead:1.070366621017456
dm-13, data motion:0.051554322242736816
dm-13, exec:296.00006556510925, overhead:0.4869375228881836
kernel:0.012827157974243164
emu-kernel-0, exec:296.06506156921387, overhead:1.1210134029388428
dm-14, data motion:0.05143427848815918
dm-14, exec:296.16398644447327, overhead:0.43088722229003906
dm-2, data motion:0.05167663097381592
dm-2, exec:297.09941482543945, overhead:0.3865532875061035
dm-3, data motion:0.05182361602783203
dm-3, exec:297.089727640152, overhead:0.4274003505706787
kernel:0.012827634811401367
emu-kernel-12, exec:296.5869402885437, overhead:0.5504140853881836
dm-4, data motion:0.051416635513305664
dm-4, exec:297.6742742061615, overhead:0.36377787590026855
dm-15, data motion:0.052872300148010254
dm-15, exec:297.202938079834, overhead:0.31104421615600586
dm-1, data motion:0.05223441123962402
dm-1, exec:298.18908643722534, overhead:0.45409107208251953
dm-7, data motion:0.0519254207611084
dm-7, exec:298.2976379394531, overhead:0.47054529190063477
kernel:0.012828469276428223
emu-kernel-6, exec:297.8038098812103, overhead:1.1102802753448486
dm-0, data motion:0.052600979804992676
dm-0, exec:298.497243642807, overhead:0.4786520004272461
dm-12, data motion:0.051818251609802246
dm-12, exec:298.3281395435333, overhead:0.27886962890625
dm-6, data motion:0.05236244201660156
dm-6, exec:298.9552893638611, overhead:0.582733154296875
total_req_latency:299.8459997177124
per_req_latency:0.1499229998588562
149.923
150.667
```

## Benchmark 1: Video Codec -> Data motion

### (4 physical cores, 2 way of LLC, 20% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py image_resize 2 1`  

Output:  
```
kernel:0.005202531814575195
emu-kernel-0, exec:134.20166730880737, overhead:0.6660518646240234
kernel:0.005202531814575195
emu-kernel-1, exec:134.21503806114197, overhead:0.6509685516357422
dm-0, data motion:0.045981407165527344
dm-0, exec:138.52772331237793, overhead:0.4637448787689209
dm-1, data motion:0.04585862159729004
dm-1, exec:138.37070393562317, overhead:0.623283863067627
total_req_latency:139.01417708396912
per_req_latency:0.06950708854198456
69.507
54.807
```

Command: 16 emulated kernels, using iterations = 200 
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py image_resize 16 1`

Output:  
```
kernel:0.005156993865966797
emu-kernel-10, exec:28.717489004135132, overhead:2.0999021530151367
kernel:0.007973432540893555
emu-kernel-7, exec:32.860820293426514, overhead:2.208538055419922
dm-10, data motion:0.10182833671569824
dm-10, exec:39.47728729248047, overhead:0.6592013835906982
dm-7, data motion:0.1157522201538086
dm-7, exec:40.56209468841553, overhead:0.8749241828918457
kernel:0.00516355037689209
emu-kernel-8, exec:53.97311615943909, overhead:2.4439802169799805
kernel:0.007236003875732422
emu-kernel-15, exec:54.36242365837097, overhead:1.206282377243042
kernel:0.0051572322845458984
emu-kernel-5, exec:56.300620317459106, overhead:2.0223443508148193
kernel:0.005156993865966797
emu-kernel-12, exec:55.19234347343445, overhead:1.4075658321380615
kernel:0.007982730865478516
emu-kernel-4, exec:56.00328302383423, overhead:2.7263429164886475
kernel:0.005156517028808594
emu-kernel-14, exec:55.4932656288147, overhead:1.1479167938232422
kernel:0.005948066711425781
emu-kernel-0, exec:59.89794969558716, overhead:2.826772689819336
kernel:0.005418181419372559
emu-kernel-3, exec:59.783576250076294, overhead:2.780775308609009
kernel:0.005164742469787598
emu-kernel-2, exec:60.05591082572937, overhead:2.995797872543335
kernel:0.007982254028320312
emu-kernel-9, exec:63.867477893829346, overhead:2.2796578407287598
kernel:0.0051653385162353516
emu-kernel-1, exec:65.49601244926453, overhead:2.5745954513549805
kernel:0.007983565330505371
emu-kernel-13, exec:63.91282081604004, overhead:1.4687016010284424
kernel:0.007980585098266602
emu-kernel-11, exec:64.36889386177063, overhead:1.956174612045288
kernel:0.005732536315917969
emu-kernel-6, exec:65.37586212158203, overhead:2.7547974586486816
dm-8, data motion:0.18168485164642334
dm-8, exec:68.92420959472656, overhead:0.8844237327575684
dm-15, data motion:0.18041157722473145
dm-15, exec:67.84376955032349, overhead:0.8390641212463379
dm-12, data motion:0.17564761638641357
dm-12, exec:68.85824966430664, overhead:0.5328361988067627
dm-4, data motion:0.18818402290344238
dm-4, exec:70.91356563568115, overhead:0.8157374858856201
dm-5, data motion:0.18144738674163818
dm-5, exec:71.00657224655151, overhead:0.6596059799194336
dm-14, data motion:0.1850224733352661
dm-14, exec:68.85809683799744, overhead:0.5672035217285156
dm-0, data motion:0.1903226375579834
dm-0, exec:73.90657305717468, overhead:0.5844793319702148
dm-2, data motion:0.1969202756881714
dm-2, exec:75.02583360671997, overhead:0.5278160572052002
dm-3, data motion:0.20187783241271973
dm-3, exec:74.523512840271, overhead:0.9813888072967529
dm-6, data motion:0.2637826204299927
dm-6, exec:75.8086485862732, overhead:0.90110182762146
dm-9, data motion:0.2547626495361328
dm-9, exec:74.87300395965576, overhead:0.9031341075897217
dm-13, data motion:0.2539784908294678
dm-13, exec:74.23567295074463, overhead:0.6391003131866455
dm-11, data motion:0.2701561450958252
dm-11, exec:74.58817887306213, overhead:0.799166202545166
dm-1, data motion:0.2638278007507324
dm-1, exec:77.08290076255798, overhead:0.9518404006958008
total_req_latency:78.05592823028564
per_req_latency:0.3902796411514282
390.280
337.645
```

### (8 physical cores, 4 way of LLC, 40% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 4000 
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py image_resize 2 1`  

Output:  
```
kernel:0.005191802978515625
emu-kernel-0, exec:108.43068838119507, overhead:0.2811317443847656
kernel:0.005194664001464844
emu-kernel-1, exec:108.43180584907532, overhead:0.27752208709716797
dm-0, data motion:0.04349803924560547
dm-0, exec:111.62390232086182, overhead:0.24715375900268555
dm-1, data motion:0.043567657470703125
dm-1, exec:111.62438178062439, overhead:0.24265694618225098
total_req_latency:111.88689041137695
per_req_latency:0.055943445205688475
55.943
39.578
```

Command: 16 emulated kernels, using iterations = 400 (2000 takes way too long)  
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py image_resize 16 1`

Output:  
```
kernel:0.0051577091217041016
emu-kernel-12, exec:52.52734971046448, overhead:0.8716650009155273
kernel:0.005158424377441406
emu-kernel-8, exec:56.85546374320984, overhead:1.3666887283325195
kernel:0.005158662796020508
emu-kernel-13, exec:56.86686849594116, overhead:0.7347676753997803
kernel:0.0051572322845458984
emu-kernel-2, exec:57.72339701652527, overhead:1.685136318206787
kernel:0.005157589912414551
emu-kernel-9, exec:58.09511351585388, overhead:1.4074416160583496
kernel:0.0051572322845458984
emu-kernel-3, exec:58.88371539115906, overhead:1.6016433238983154
kernel:0.005156397819519043
emu-kernel-14, exec:58.07477331161499, overhead:0.7461657524108887
kernel:0.005156993865966797
emu-kernel-11, exec:58.383644819259644, overhead:1.0907785892486572
kernel:0.0051577091217041016
emu-kernel-6, exec:58.67557644844055, overhead:1.5992372035980225
kernel:0.0051566362380981445
emu-kernel-0, exec:58.94990396499634, overhead:1.7468328475952148
kernel:0.005157947540283203
emu-kernel-10, exec:58.47516942024231, overhead:1.2052652835845947
kernel:0.005157351493835449
emu-kernel-5, exec:58.86423134803772, overhead:1.9868724346160889
kernel:0.0051555633544921875
emu-kernel-1, exec:59.38223147392273, overhead:1.8594245910644531
kernel:0.005158662796020508
emu-kernel-15, exec:59.02968978881836, overhead:0.505424976348877
kernel:0.005158185958862305
emu-kernel-4, exec:59.71032428741455, overhead:1.851045846939087
kernel:0.0051577091217041016
emu-kernel-7, exec:59.851598501205444, overhead:1.5709609985351562
dm-12, data motion:0.11371314525604248
dm-12, exec:61.72311854362488, overhead:0.6034355163574219
dm-13, data motion:0.11545705795288086
dm-13, exec:64.61894106864929, overhead:0.4831883907318115
dm-8, data motion:0.11559295654296875
dm-8, exec:65.53203320503235, overhead:0.6625173091888428
dm-0, data motion:0.11561393737792969
dm-0, exec:66.80102872848511, overhead:0.5180866718292236
dm-2, data motion:0.11515176296234131
dm-2, exec:66.73224449157715, overhead:0.5859336853027344
dm-11, data motion:0.11296820640563965
dm-11, exec:65.82109260559082, overhead:0.5632097721099854
dm-9, data motion:0.11344337463378906
dm-9, exec:66.18377494812012, overhead:0.4392232894897461
dm-14, data motion:0.11259198188781738
dm-14, exec:65.59433436393738, overhead:0.4194610118865967
dm-5, data motion:0.11462962627410889
dm-5, exec:66.85679197311401, overhead:0.7839748859405518
dm-3, data motion:0.11434066295623779
dm-3, exec:67.01361131668091, overhead:0.9109766483306885
dm-10, data motion:0.11690747737884521
dm-10, exec:66.24981641769409, overhead:0.7590541839599609
dm-6, data motion:0.11383366584777832
dm-6, exec:66.96531176567078, overhead:0.9187111854553223
dm-1, data motion:0.11588490009307861
dm-1, exec:67.51893138885498, overhead:0.48191237449645996
dm-15, data motion:0.11486327648162842
dm-15, exec:66.19094610214233, overhead:0.35144472122192383
dm-4, data motion:0.11289501190185547
dm-4, exec:67.7699077129364, overhead:0.5992534160614014
dm-7, data motion:0.11510634422302246
dm-7, exec:67.66555833816528, overhead:0.4913778305053711
total_req_latency:68.59944891929626
per_req_latency:0.17149862229824067
171.499
159.072
```

### (16 physical cores, 8 way of LLC, 80% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 4000    
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30  python3 kernel_dm_pair.py image_resize 2 1`  

Output:  
```
kernel:0.005193948745727539
emu-kernel-1, exec:200.15996623039246, overhead:0.24002575874328613
dm-1, data motion:0.04038047790527344
dm-1, exec:203.20247745513916, overhead:0.2054579257965088
kernel:0.005192995071411133
emu-kernel-0, exec:204.73668813705444, overhead:0.24391865730285645
dm-0, data motion:0.041197896003723145
dm-0, exec:207.54699683189392, overhead:0.21094560623168945
total_req_latency:207.7720808982849
per_req_latency:0.05194302022457123
51.943
35.681
```

Command: 16 emulated kernels, using iterations = 2000
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30  python3 kernel_dm_pair.py image_resize 16 1`

Output:  
```
kernel:0.005181789398193359
emu-kernel-9, exec:247.8394317626953, overhead:0.839102029800415
kernel:0.005181431770324707
emu-kernel-8, exec:249.099285364151, overhead:0.9868824481964111
kernel:0.005181312561035156
emu-kernel-3, exec:251.16931986808777, overhead:0.9572410583496094
kernel:0.00518190860748291
emu-kernel-6, exec:251.02390003204346, overhead:1.090740442276001
kernel:0.005182027816772461
emu-kernel-7, exec:253.05121517181396, overhead:1.0420725345611572
kernel:0.005182147026062012
emu-kernel-12, exec:253.02218890190125, overhead:0.5186491012573242
kernel:0.0051822662353515625
emu-kernel-14, exec:253.1810438632965, overhead:0.3479325771331787
kernel:0.00518035888671875
emu-kernel-2, exec:254.43519520759583, overhead:0.9765777587890625
dm-9, data motion:0.07941663265228271
dm-9, exec:254.88382720947266, overhead:0.5152125358581543
kernel:0.005182027816772461
emu-kernel-15, exec:254.97918009757996, overhead:0.31363534927368164
kernel:0.005181789398193359
emu-kernel-10, exec:255.44762444496155, overhead:0.6693003177642822
kernel:0.005181074142456055
emu-kernel-1, exec:255.69818687438965, overhead:1.1119141578674316
dm-8, data motion:0.07877945899963379
dm-8, exec:256.14988374710083, overhead:0.5507485866546631
kernel:0.005182027816772461
emu-kernel-13, exec:256.163156747818, overhead:0.45807456970214844
kernel:0.005181550979614258
emu-kernel-11, exec:256.25331234931946, overhead:0.5869905948638916
kernel:0.005182027816772461
emu-kernel-5, exec:256.50453424453735, overhead:1.0660572052001953
kernel:0.005181074142456055
emu-kernel-0, exec:256.5873968601227, overhead:1.0359716415405273
dm-3, data motion:0.08055460453033447
dm-3, exec:258.00718998908997, overhead:0.4196031093597412
dm-6, data motion:0.07945561408996582
dm-6, exec:258.223242521286, overhead:0.4308929443359375
dm-12, data motion:0.08137857913970947
dm-12, exec:259.1009793281555, overhead:0.24326300621032715
dm-7, data motion:0.08087646961212158
dm-7, exec:259.5856041908264, overhead:0.5948803424835205
dm-14, data motion:0.08125638961791992
dm-14, exec:259.28124713897705, overhead:0.2633800506591797
dm-2, data motion:0.08335983753204346
dm-2, exec:260.426682472229, overhead:0.45082926750183105
kernel:0.0051822662353515625
emu-kernel-4, exec:260.1182312965393, overhead:1.0739243030548096
dm-15, data motion:0.08198165893554688
dm-15, exec:260.2491466999054, overhead:0.2432689666748047
dm-10, data motion:0.08019673824310303
dm-10, exec:260.7788915634155, overhead:0.3682973384857178
dm-1, data motion:0.08150184154510498
dm-1, exec:261.22536873817444, overhead:0.5141391754150391
dm-13, data motion:0.07958221435546875
dm-13, exec:261.0031816959381, overhead:0.2553548812866211
dm-11, data motion:0.08264470100402832
dm-11, exec:261.27217864990234, overhead:0.3352622985839844
dm-5, data motion:0.0823512077331543
dm-5, exec:261.77858209609985, overhead:0.368624210357666
dm-0, data motion:0.08230328559875488
dm-0, exec:261.67513704299927, overhead:0.5426514148712158
dm-4, data motion:0.08121860027313232
dm-4, exec:263.8603754043579, overhead:0.3839690685272217
total_req_latency:264.2744679450989
per_req_latency:0.13213723397254945
132.137
129.495
```

## Benchmark 4: AES -> regexp

### (4 physical cores, 2 way of LLC, 20% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py concat_cast_flatten_aes 2 1`  

Output:  
```
kernel:0.06578731536865234
kernel:0.06578218936920166
emu-kernel-1, exec:152.44035482406616, overhead:0.633131742477417
emu-kernel-0, exec:152.44390082359314, overhead:0.6336843967437744
dm-1, data motion:0.027765989303588867
dm-1, exec:152.50184726715088, overhead:0.6128454208374023
dm-0, data motion:0.027796506881713867
dm-0, exec:152.68637871742249, overhead:0.43331432342529297
total_req_latency:153.14532494544983
per_req_latency:0.07657266247272491
76.573
71.513
```

Command: 16 emulated kernels, using iterations = 200 
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py concat_cast_flatten_aes 16 1`

Output:  
```
kernel:0.07199203968048096
emu-kernel-6, exec:18.372891426086426, overhead:1.8568933010101318
kernel:0.0657118558883667
emu-kernel-13, exec:17.372583389282227, overhead:1.2328236103057861
dm-6, data motion:0.07232367992401123
dm-6, exec:22.877475261688232, overhead:1.1628186702728271
dm-13, data motion:0.07100474834442139
dm-13, exec:21.210610151290894, overhead:0.6182289123535156
kernel:0.0657036304473877
emu-kernel-3, exec:33.98246645927429, overhead:1.7211403846740723
kernel:0.0657052993774414
emu-kernel-2, exec:34.62293720245361, overhead:1.321335792541504
kernel:0.0657038688659668
emu-kernel-12, exec:31.5761456489563, overhead:1.8753697872161865
kernel:0.06570315361022949
emu-kernel-10, exec:32.43283557891846, overhead:1.8653318881988525
kernel:0.0657505989074707
emu-kernel-5, exec:33.09982180595398, overhead:2.2574892044067383
kernel:0.06570613384246826
emu-kernel-9, exec:32.333473443984985, overhead:2.569295644760132
kernel:0.06570875644683838
emu-kernel-7, exec:33.013301372528076, overhead:2.024317741394043
kernel:0.0658949613571167
emu-kernel-8, exec:32.59003663063049, overhead:2.43756103515625
kernel:0.06571090221405029
emu-kernel-15, exec:31.685506582260132, overhead:0.8177521228790283
kernel:0.06570601463317871
emu-kernel-14, exec:31.681124448776245, overhead:1.3866386413574219
kernel:0.06570744514465332
emu-kernel-1, exec:36.01035833358765, overhead:1.824960470199585
kernel:0.06641995906829834
emu-kernel-0, exec:36.18657827377319, overhead:1.7208800315856934
kernel:0.06570792198181152
emu-kernel-4, exec:35.137367248535156, overhead:2.2654976844787598
kernel:0.06570696830749512
emu-kernel-11, exec:33.80558490753174, overhead:1.7658050060272217
dm-3, data motion:0.1236262321472168
dm-3, exec:42.08060073852539, overhead:1.066894292831421
dm-12, data motion:0.12562549114227295
dm-12, exec:39.697288036346436, overhead:1.0387423038482666
dm-2, data motion:0.12714099884033203
dm-2, exec:42.230809926986694, overhead:1.116326093673706
dm-10, data motion:0.12165939807891846
dm-10, exec:40.35453701019287, overhead:1.2069523334503174
dm-5, data motion:0.12557530403137207
dm-5, exec:42.21667432785034, overhead:0.8155288696289062
dm-7, data motion:0.11719667911529541
dm-7, exec:41.232810497283936, overhead:1.0265777111053467
dm-9, data motion:0.14790558815002441
dm-9, exec:41.58188557624817, overhead:1.862969160079956
dm-8, data motion:0.12395679950714111
dm-8, exec:42.8985869884491, overhead:0.6225237846374512
dm-14, data motion:0.15187954902648926
dm-14, exec:40.40199375152588, overhead:1.066870927810669
dm-15, data motion:0.13284623622894287
dm-15, exec:40.74633073806763, overhead:0.5507709980010986
dm-0, data motion:0.14142823219299316
dm-0, exec:44.70310044288635, overhead:0.5252971649169922
dm-1, data motion:0.143965482711792
dm-1, exec:44.102829456329346, overhead:1.1241295337677002
dm-4, data motion:0.14694082736968994
dm-4, exec:43.9088454246521, overhead:1.0549867153167725
dm-11, data motion:0.15185034275054932
dm-11, exec:41.77061867713928, overhead:1.1190600395202637
total_req_latency:45.275492906570435
per_req_latency:0.22637746453285218
226.377
125.036
```

### (8 physical cores, 4 way of LLC, 40% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000 
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py concat_cast_flatten_aes 2 1`  

Output:  
```
kernel:0.06578469276428223
emu-kernel-1, exec:143.01065468788147, overhead:0.2312641143798828
dm-1, data motion:0.014195561408996582
dm-1, exec:143.00431847572327, overhead:0.2593064308166504
kernel:0.06577575206756592
emu-kernel-0, exec:143.0135898590088, overhead:0.3033592700958252
dm-0, data motion:0.014219880104064941
dm-0, exec:143.14702081680298, overhead:0.19159865379333496
total_req_latency:143.36138486862183
per_req_latency:0.07168069243431091
71.681
69.468
```

Command: 16 emulated kernels, using iterations = 200 (2000 takes way too long)  
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py concat_cast_flatten_aes 16 1`

Output:  
```
kernel:0.06571674346923828
emu-kernel-6, exec:16.636952877044678, overhead:1.3081133365631104
kernel:0.06571638584136963
emu-kernel-4, exec:16.819458484649658, overhead:1.4517238140106201
kernel:0.06571698188781738
emu-kernel-8, exec:16.857866287231445, overhead:0.9969720840454102
dm-4, data motion:0.07859933376312256
dm-4, exec:18.460267305374146, overhead:0.696155309677124
kernel:0.0657271146774292
emu-kernel-7, exec:17.827397346496582, overhead:1.1370205879211426
kernel:0.0657196044921875
emu-kernel-14, exec:17.021231412887573, overhead:0.6683180332183838
kernel:0.06572079658508301
emu-kernel-10, exec:17.755635738372803, overhead:0.5606763362884521
kernel:0.06571877002716064
emu-kernel-12, exec:17.26012086868286, overhead:0.8650355339050293
kernel:0.06572151184082031
emu-kernel-11, exec:17.736176252365112, overhead:0.7250497341156006
kernel:0.06572103500366211
emu-kernel-0, exec:18.658550024032593, overhead:1.2755589485168457
kernel:0.0657196044921875
emu-kernel-3, exec:18.77963352203369, overhead:1.204704999923706
kernel:0.06571722030639648
emu-kernel-13, exec:17.640631198883057, overhead:0.7235655784606934
kernel:0.06572234630584717
emu-kernel-2, exec:18.936378240585327, overhead:1.2116215229034424
dm-6, data motion:0.06237351894378662
dm-6, exec:19.07582950592041, overhead:0.9547407627105713
dm-3, data motion:0.06165182590484619
dm-3, exec:19.45210552215576, overhead:0.8316848278045654
dm-13, data motion:0.061960816383361816
dm-13, exec:18.417747497558594, overhead:0.39054322242736816
kernel:0.06572163105010986
emu-kernel-5, exec:19.06947088241577, overhead:1.1056339740753174
kernel:0.06572246551513672
emu-kernel-9, exec:18.44174313545227, overhead:0.993034839630127
dm-0, data motion:0.06248307228088379
dm-0, exec:19.768800258636475, overhead:0.6475965976715088
dm-8, data motion:0.06133723258972168
dm-8, exec:19.159005641937256, overhead:0.442767858505249
dm-9, data motion:0.06353461742401123
dm-9, exec:18.880204677581787, overhead:0.6073315143585205
dm-5, data motion:0.06242799758911133
dm-5, exec:19.66402840614319, overhead:0.8197276592254639
kernel:0.06576120853424072
emu-kernel-15, exec:18.26700758934021, overhead:0.3120412826538086
dm-7, data motion:0.06233680248260498
dm-7, exec:19.70923113822937, overhead:0.7029914855957031
dm-10, data motion:0.06300532817840576
dm-10, exec:19.389759063720703, overhead:0.49503278732299805
dm-14, data motion:0.06270754337310791
dm-14, exec:18.876490116119385, overhead:0.3950924873352051
dm-11, data motion:0.06323599815368652
dm-11, exec:19.350167751312256, overhead:0.37514472007751465
dm-15, data motion:0.06890475749969482
dm-15, exec:19.03473949432373, overhead:0.4829378128051758
dm-2, data motion:0.08181774616241455
dm-2, exec:21.00326418876648, overhead:0.5632188320159912
kernel:0.06592309474945068
emu-kernel-1, exec:20.25631070137024, overhead:1.3195102214813232
dm-1, data motion:0.07625758647918701
dm-1, exec:20.77817416191101, overhead:0.818972110748291
dm-12, data motion:0.0772409439086914
dm-12, exec:19.612643480300903, overhead:0.5508561134338379
total_req_latency:21.63118815422058
per_req_latency:0.10815594077110291
108.156
81.601
```

### (16 physical cores, 8 way of LLC, 80% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 4000    
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30 python3 kernel_dm_pair.py concat_cast_flatten_aes 2 1`  

Output:  
```
kernel:0.06578683853149414
kernel:0.06575655937194824
emu-kernel-1, exec:212.73494124412537, overhead:0.16638445854187012
emu-kernel-0, exec:212.73474764823914, overhead:0.17026543617248535
dm-1, data motion:0.012688040733337402
dm-0, data motion:0.01261591911315918
dm-0, exec:212.77032995224, overhead:0.15532445907592773
dm-1, exec:212.77085661888123, overhead:0.15032696723937988
total_req_latency:212.9481589794159
per_req_latency:0.0709827196598053
70.983
```

Command: 16 emulated kernels, using iterations = 2000
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30 python3 kernel_dm_pair.py concat_cast_flatten_aes 16 1`

Output:  
```
kernel:0.06576752662658691
emu-kernel-3, exec:193.46160650253296, overhead:0.6268608570098877
dm-3, data motion:0.06551134586334229
dm-3, exec:193.72788000106812, overhead:0.4268219470977783
kernel:0.06576943397521973
emu-kernel-0, exec:193.61454558372498, overhead:0.7095801830291748
dm-0, data motion:0.06572163105010986
dm-0, exec:194.01279854774475, overhead:0.46665430068969727
kernel:0.06576943397521973
emu-kernel-4, exec:193.82115077972412, overhead:0.6793370246887207
dm-4, data motion:0.06590437889099121
dm-4, exec:194.2728762626648, overhead:0.41527628898620605
kernel:0.06576824188232422
emu-kernel-9, exec:193.99105024337769, overhead:0.5526466369628906
kernel:0.06576919555664062
emu-kernel-10, exec:194.0175323486328, overhead:0.44869279861450195
dm-9, data motion:0.06550705432891846
dm-9, exec:194.28076004981995, overhead:0.38286304473876953
dm-10, data motion:0.0684436559677124
dm-10, exec:194.17130613327026, overhead:0.3630955219268799
kernel:0.06577110290527344
emu-kernel-6, exec:194.21596002578735, overhead:0.7921426296234131
kernel:0.06577098369598389
emu-kernel-7, exec:194.18135809898376, overhead:0.7966914176940918
dm-7, data motion:0.06679701805114746
dm-7, exec:194.61695909500122, overhead:0.4585421085357666
kernel:0.06576824188232422
emu-kernel-11, exec:193.99775624275208, overhead:0.5926253795623779
kernel:0.06576895713806152
emu-kernel-14, exec:194.02828359603882, overhead:0.2443833351135254
dm-6, data motion:0.0674506425857544
dm-6, exec:194.4183430671692, overhead:0.4748525619506836
dm-11, data motion:0.06711053848266602
dm-11, exec:194.28944730758667, overhead:0.3471662998199463
dm-14, data motion:0.06479418277740479
dm-14, exec:194.08308005332947, overhead:0.27901482582092285
kernel:0.06576848030090332
emu-kernel-1, exec:194.62164330482483, overhead:0.7459144592285156
dm-1, data motion:0.06591784954071045
dm-1, exec:195.06162643432617, overhead:0.32990312576293945
kernel:0.06576895713806152
emu-kernel-15, exec:194.3333122730255, overhead:0.24497699737548828
dm-15, data motion:0.07301342487335205
dm-15, exec:194.40890741348267, overhead:0.20278215408325195
kernel:0.06577038764953613
emu-kernel-13, exec:194.46864819526672, overhead:0.40523672103881836
dm-13, data motion:0.06787371635437012
dm-13, exec:194.59447050094604, overhead:0.29891085624694824
kernel:0.06576728820800781
emu-kernel-8, exec:195.05027508735657, overhead:0.6927073001861572
dm-8, data motion:0.06672525405883789
dm-8, exec:195.40626192092896, overhead:0.5107967853546143
kernel:0.06576800346374512
emu-kernel-12, exec:195.26814579963684, overhead:0.40117335319519043
dm-12, data motion:0.06753373146057129
dm-12, exec:195.41793847084045, overhead:0.26297712326049805
kernel:0.06576800346374512
emu-kernel-2, exec:195.78496646881104, overhead:0.5829081535339355
dm-2, data motion:0.0673222541809082
dm-2, exec:196.03103399276733, overhead:0.3544321060180664
kernel:0.06576979160308838
emu-kernel-5, exec:195.66589903831482, overhead:0.8198037147521973
dm-5, data motion:0.06633198261260986
dm-5, exec:196.07479739189148, overhead:0.42825770378112793
total_req_latency:196.54139018058777
per_req_latency:0.09827069509029389
98.271
```

## Benchmark 5: Gzip -> hash-join

### (4 physical cores, 2 way of LLC, 20% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000  
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py concat_cast_flatten_gzip 2 1`  

Output:  
```
emu-kernel-0, exec:275.7447645664215, overhead:0.5544474124908447
emu-kernel-1, exec:275.75111627578735, overhead:0.5446345806121826
dm-1, exec:284.3854763507843, overhead:0.39945435523986816
dm-0, exec:284.4378638267517, overhead:0.3753976821899414
total_req_latency:284.83151292800903
per_req_latency:0.1424157564640045
142.416
142.591
```

Command: 16 emulated kernels, using iterations = 200 
`sudo rdtset -t 'mba=20;l3=0x03;cpu=0,2,4,8' -c 0,2,4,8  python3 kernel_dm_pair.py concat_cast_flatten_gzip 16 1`

Output:  
```
emu-kernel-6, exec:93.19385957717896, overhead:2.161742687225342
emu-kernel-8, exec:92.97914290428162, overhead:2.013930320739746
emu-kernel-3, exec:94.27812314033508, overhead:2.5710065364837646
emu-kernel-0, exec:94.69291567802429, overhead:2.5589470863342285
emu-kernel-13, exec:92.04661154747009, overhead:1.0007755756378174
emu-kernel-2, exec:94.54456448554993, overhead:2.0982418060302734
emu-kernel-4, exec:94.27807855606079, overhead:2.846503734588623
emu-kernel-7, exec:93.6198239326477, overhead:2.366229772567749
emu-kernel-1, exec:95.63064789772034, overhead:1.9746670722961426
emu-kernel-14, exec:92.89563035964966, overhead:0.9621155261993408
emu-kernel-5, exec:95.36265349388123, overhead:2.474120616912842
emu-kernel-12, exec:93.47557520866394, overhead:1.8698880672454834
emu-kernel-15, exec:93.7001883983612, overhead:0.5072517395019531
emu-kernel-10, exec:94.66462397575378, overhead:2.01853609085083
emu-kernel-11, exec:94.68986368179321, overhead:2.009860038757324
emu-kernel-9, exec:95.45178294181824, overhead:1.7627017498016357
dm-6, exec:129.6701579093933, overhead:1.4788477420806885
dm-8, exec:129.4659240245819, overhead:1.2435321807861328
dm-0, exec:131.3526487350464, overhead:1.3375413417816162
dm-13, exec:128.05884504318237, overhead:0.7711305618286133
dm-3, exec:131.36244082450867, overhead:1.3630104064941406
dm-2, exec:130.91375994682312, overhead:1.5951321125030518
dm-4, exec:131.3811330795288, overhead:1.619128942489624
dm-7, exec:130.4295825958252, overhead:1.2067525386810303
dm-1, exec:132.21220183372498, overhead:1.0775384902954102
dm-14, exec:128.30188393592834, overhead:0.8710427284240723
dm-12, exec:129.18435168266296, overhead:1.0950450897216797
dm-5, exec:131.70718574523926, overhead:1.5393660068511963
dm-10, exec:129.5124180316925, overhead:1.5751450061798096
dm-11, exec:129.52085781097412, overhead:1.5831494331359863
dm-15, exec:128.69531226158142, overhead:0.8189165592193604
dm-9, exec:130.14711713790894, overhead:1.2831532955169678
total_req_latency:134.0275821685791
per_req_latency:0.6701379108428955
670.138
668.141
```

### (8 physical cores, 4 way of LLC, 40% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 2000 
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py concat_cast_flatten_gzip 2 1`  

Output:  
```
emu-kernel-1, exec:153.30768203735352, overhead:0.30140209197998047
dm-1, exec:158.1290638446808, overhead:0.2881491184234619
emu-kernel-0, exec:166.36399507522583, overhead:0.3047916889190674
dm-0, exec:170.75993537902832, overhead:0.2514834403991699
total_req_latency:171.02771997451782
per_req_latency:0.08551385998725891
85.514
88.984
```

Command: 16 emulated kernels, using iterations = 2000
`sudo rdtset -t 'mba=40;l3=0x0f;cpu=0,2,4,8,10,12,14,16' -c 0,2,4,8,10,12,14,16  python3 kernel_dm_pair.py concat_cast_flatten_gzip 16 1`

Output:  
```
emu-kernel-6, exec:37.79336333274841, overhead:1.0703976154327393
emu-kernel-9, exec:37.85185122489929, overhead:1.2578821182250977
emu-kernel-4, exec:37.99981141090393, overhead:1.4419686794281006
emu-kernel-11, exec:37.84637665748596, overhead:1.0646648406982422
emu-kernel-2, exec:39.09067225456238, overhead:1.3365302085876465
emu-kernel-3, exec:39.39414834976196, overhead:1.3055312633514404
emu-kernel-14, exec:39.13290047645569, overhead:0.7247679233551025
emu-kernel-15, exec:39.051053285598755, overhead:0.35928940773010254
emu-kernel-10, exec:39.46086883544922, overhead:0.929877758026123
emu-kernel-8, exec:40.21718621253967, overhead:1.3429441452026367
emu-kernel-13, exec:40.05534744262695, overhead:1.0771024227142334
emu-kernel-12, exec:40.39972925186157, overhead:1.0201947689056396
emu-kernel-5, exec:41.27287721633911, overhead:1.4460067749023438
emu-kernel-7, exec:43.969016551971436, overhead:1.1617581844329834
emu-kernel-0, exec:44.62633442878723, overhead:1.4655468463897705
emu-kernel-1, exec:48.16346311569214, overhead:1.2750060558319092
dm-6, exec:53.47491216659546, overhead:0.7628190517425537
dm-9, exec:53.03589916229248, overhead:0.7833271026611328
dm-2, exec:53.85434651374817, overhead:1.1508653163909912
dm-4, exec:54.4766845703125, overhead:0.7814211845397949
dm-11, exec:53.76503849029541, overhead:0.4831430912017822
dm-3, exec:55.08969211578369, overhead:0.7001221179962158
dm-15, exec:53.544926166534424, overhead:0.3031594753265381
dm-8, exec:55.266286849975586, overhead:0.7269411087036133
dm-10, exec:54.825929403305054, overhead:0.4677112102508545
dm-14, exec:54.513227462768555, overhead:0.38741159439086914
dm-13, exec:54.663679122924805, overhead:0.839320182800293
dm-5, exec:55.58154797554016, overhead:0.6758027076721191
dm-12, exec:54.952375411987305, overhead:0.9320909976959229
dm-7, exec:57.07915449142456, overhead:0.7269997596740723
dm-0, exec:57.85075640678406, overhead:0.6729252338409424
dm-1, exec:58.172278881073, overhead:0.6614751815795898
total_req_latency:58.854448318481445
per_req_latency:0.2942722415924072
294.272
249.835
```

### (16 physical cores, 8 way of LLC, 80% of memory bandwidth)
Command: 2 emulated kernels, using iterations = 4000    
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30 python3 kernel_dm_pair.py concat_cast_flatten_gzip 2 1`  

Output:  
```
emu-kernel-1, exec:203.54572677612305, overhead:0.17629098892211914
dm-1, exec:207.70407915115356, overhead:0.13856220245361328
emu-kernel-0, exec:235.8373157978058, overhead:0.17496871948242188
dm-0, exec:239.77256274223328, overhead:0.12984204292297363
total_req_latency:239.9201693534851
per_req_latency:0.07997338978449503
79.973
73.771
```

Command: 16 emulated kernels, using iterations = 2000
`sudo rdtset -t 'mba=80;l3=0xff;cpu=0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30' -c 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30 python3 kernel_dm_pair.py concat_cast_flatten_gzip 16 1`

Output:  
```
emu-kernel-4, exec:399.42987728118896, overhead:1.0222420692443848
emu-kernel-6, exec:405.1459493637085, overhead:1.0192768573760986
dm-4, exec:412.630113363266, overhead:0.5375511646270752
dm-6, exec:417.6330225467682, overhead:0.9118669033050537
emu-kernel-2, exec:421.2206070423126, overhead:1.070704460144043
emu-kernel-1, exec:429.9519729614258, overhead:1.0246946811676025
dm-2, exec:432.2718563079834, overhead:0.5824053287506104
emu-kernel-9, exec:432.7118375301361, overhead:0.5643162727355957
emu-kernel-14, exec:437.91997361183167, overhead:0.3034789562225342
dm-1, exec:440.5206835269928, overhead:0.5729701519012451
emu-kernel-11, exec:440.874258518219, overhead:0.7922878265380859
dm-9, exec:443.4512183666229, overhead:0.427539587020874
emu-kernel-13, exec:446.0442142486572, overhead:0.5314483642578125
dm-14, exec:448.63831543922424, overhead:0.4272308349609375
dm-11, exec:451.7625780105591, overhead:0.6112585067749023
dm-13, exec:455.1125075817108, overhead:0.40729594230651855
emu-kernel-7, exec:464.8598725795746, overhead:1.0844242572784424
emu-kernel-15, exec:468.1431894302368, overhead:0.20310616493225098
emu-kernel-3, exec:471.66359186172485, overhead:1.0158660411834717
dm-7, exec:473.8917407989502, overhead:0.6890561580657959
dm-15, exec:475.6665165424347, overhead:0.22731757164001465
emu-kernel-5, exec:477.57407879829407, overhead:1.0307137966156006
dm-3, exec:480.31365513801575, overhead:0.5803167819976807
emu-kernel-10, exec:480.49591612815857, overhead:1.0022447109222412
emu-kernel-8, exec:482.91719245910645, overhead:1.0246665477752686
dm-5, exec:485.29173707962036, overhead:0.5872933864593506
dm-10, exec:487.0072615146637, overhead:0.7747604846954346
dm-8, exec:489.04836201667786, overhead:0.6706023216247559
emu-kernel-12, exec:488.7349359989166, overhead:0.7858388423919678
emu-kernel-0, exec:489.2767951488495, overhead:1.0713729858398438
dm-12, exec:494.0578474998474, overhead:0.5313355922698975
dm-0, exec:494.2374675273895, overhead:0.928696870803833
total_req_latency:495.1842257976532
per_req_latency:0.2475921128988266
247.592
248.418
```